<app-header></app-header>

<section class="bg-formularios">
    <div class="container">
        <div class="section-title">
            <h1> DATOS PERSONALES </h1>
        </div>
        <form [formGroup]="form" (ngSubmit)="actualizarRegistro($event)" >
            <div class="mb-3">
                <label class="form-label">Nombre</label>
                <input type="text" formControlName="nombre" maxlength="50" 
                [value]="educacion.nombre"
                [ngClass]="{'is-invalid':Nombre?.errors && Nombre?.touched, 
                    'is-valid':!Nombre?.errors && Nombre?.touched}"
                class="form-control">
                <div *ngIf="Nombre?.errors && Nombre?.touched">
                    <p *ngIf="Nombre?.hasError('required')" class="text-danger">
                      Nombre requerido
                    </p>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label">Titulo</label>
                <input type="text" formControlName="titulo" maxlength="50"
                [value]="educacion.titulo"
                [ngClass]="{'is-invalid':Titulo?.errors && Titulo?.touched, 
                    'is-valid':!Titulo?.errors && Titulo?.touched}"
                class="form-control">
                <div *ngIf="Titulo?.errors && Titulo?.touched">
                    <p *ngIf="Titulo?.hasError('required')" class="text-danger">
                        Titulo requerido
                    </p>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label">Fecha de Inicio</label>
                <input type="date" formControlName="fechaInicio" maxlength="10"
                [value]="fechaInicio"
                [ngClass]="{'is-invalid':FechaInicio?.errors && FechaInicio?.touched, 
                    'is-valid':!FechaInicio?.errors && FechaInicio?.touched}"
                class="form-control">
                <div *ngIf="FechaInicio?.errors && FechaInicio?.touched">
                    <p *ngIf="FechaInicio?.hasError('required')" class="text-danger">
                        Fecha de inicio requerido
                    </p>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label">Fecha de Fin</label>
                <input type="date" formControlName="fechaFin" maxlength="10"
                [value]="fechaFin"
                [ngClass]="{'is-invalid':FechaFin?.errors && FechaFin?.touched, 
                    'is-valid':!FechaFin?.errors && FechaFin?.touched}"
                class="form-control">
                <div *ngIf="FechaFin?.errors && FechaFin?.touched">
                    <p *ngIf="FechaFin?.hasError('required')" class="text-danger">
                        Fecha de fin requerido
                    </p>
                </div>
            </div>
            <div class="mb-1">
                <label class="form-label">Imagen</label>
                <input type="file" accept=".jpg, .jpeg, .png" 
                class="form-control col" (change)="cargarImagen($event)">
            </div>
            <div class="text-center mt-2">
                <div>
                    <img [src]="previsualizacionUrl"
                    class="img img-fluid rounded border border-dark" id="imagen" alt="">
                </div>
            </div>
            <div class="mt-3 d-flex justify-content-center" *ngIf="usuarioActivo">
                <div class="text-center me-3">
                    <button type="submit" class="btn btn-primary">
                        Guardar
                    </button>
                </div>
                <div class="text-center ms-3">
                    <button class="btn btn-secondary" (click)="cancelar()">
                        Cancelar
                    </button>
                </div>
            </div>
        </form>
    </div>
</section>
